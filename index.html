<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blackjack: Rogue</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <div class="topbar">
      <div class="branding">
        <div class="logo">â™ ï¸</div>
        <div class="title">
          <h1>Blackjack: Rogue</h1>
          <p>Win hands, draft relics, and donâ€™t go broke!</p>
        </div>
      </div>

      <div class="status">
        <div class="stat">
          <div class="stat-label">Chips</div>
          <div class="stat-value" id="chips">100 ğŸª™</div>
        </div>
        <div class="stat">
          <div class="stat-label">Win Streak</div>
          <div class="stat-value" id="streak">0 ğŸ”¥</div>
        </div>
        <div class="stat">
          <div class="stat-label">Stars</div>
          <div class="stat-value" id="stars">0 âœ¨</div>
        </div>
        <div class="stat">
          <div class="stat-label">Best</div>
          <div class="stat-value" id="highScore">100 ğŸ†</div>
        </div>
      </div>
    </div>

    <div class="table">
      <div class="felt">
        <div class="dealer-area">
          <div class="role">Dealer</div>
          <div class="hand-row">
            <div class="hand" id="dealer-hand"></div>
            <div class="total" id="dealer-total">Total: 0</div>
          </div>
        </div>

        <div class="shoe">
          <div class="deck-stack">
            <div class="deck-card"></div>
            <div class="deck-card"></div>
            <div class="deck-card"></div>
          </div>
          <div class="shoe-label">Fresh Deck</div>
        </div>

        <div class="player-area">
          <div class="role">You</div>
          <div class="hand-row">
            <div class="hand" id="player-hand"></div>
            <div class="total" id="player-total">Total: 0</div>
          </div>
        </div>

        <div class="controls">
          <div class="betting">
            <label for="betRange">Bet</label>
            <input type="range" id="betRange" min="5" max="100" value="25">
            <div class="bet-display">
              <div class="bet-label">Bet</div>
              <div class="bet-value" id="bet">25 ğŸª™</div>
            </div>
            <div class="bet-quick">
              <button class="pill" data-bet="min">Min</button>
              <button class="pill" data-bet="half">Half</button>
              <button class="pill" data-bet="allin">All-in</button>
            </div>
          </div>

          <div class="actions">
            <button id="dealBtn" class="primary">Deal</button>
            <button id="hitBtn">Hit</button>
            <button id="standBtn">Stand</button>
            <button id="doubleBtn">Double</button>
            <button id="surrenderBtn">Surrender</button>
            <button id="peekBtn" style="display: none;">Peek ğŸ‘ï¸</button>
          </div>

          <div class="tips" id="hint">Place your bet and press Deal.</div>
        </div>
      </div>

      <div class="relics">
        <h2>Relics</h2>
        <div class="relics-list" id="relicsContainer"></div>
      </div>
    </div>
  </div>

  <div id="toast" class="toast">Toast Message</div>

  <div id="resultModal" class="modal hidden">
    <div class="modal-content">
      <h3 id="resultTitle">Hand Result</h3>
      <div class="result-rows">
        <div class="result-row">
          <div class="label result-text" id="resultMainText">Win +10</div>
          <div class="value" id="resultChipTotal">110 ğŸª™</div>
        </div>
        <div class="result-row" id="resultStarsRow" style="display: none;">
          <div class="label" id="resultStarsText">Stars +1</div>
          <div class="value" id="resultStarTotal">2 âœ¨</div>
        </div>
      </div>
      <div class="modal-buttons">
        <button id="resultGambleBtn" style="display: none;">Gamble Payout âš ï¸</button>
        <button id="resultContinueBtn" class="primary">Continue</button>
      </div>
    </div>
  </div>

  <div id="relicModal" class="modal hidden">
    <div class="modal-content">
      <h3>Choose a Relic</h3>
      <p>Youâ€™ve earned 3 âœ¨ Stars! Pick a relic to power up your run.</p>
      <div class="relic-choices" id="relicChoices"></div>
      <div class="modal-buttons">
        <button id="skipRelic">Skip</button>
      </div>
    </div>
  </div>

  <div id="gameOverModal" class="modal hidden">
    <div class="modal-content">
      <h3>Game Over</h3>
      <p>You ran out of chips.</p>
      <p>Best Chips: <strong id="finalHighScore">0</strong></p>
      <div class="modal-buttons">
        <button id="restartBtn" class="primary">Start New Run</button>
      </div>
    </div>
  </div>

  <div id="menuModal" class="modal hidden">
    <div class="modal-content">
      <h3>Menu</h3>
      <div class="modal-buttons">
        <button id="menuNewRunBtn">New Run</button>
        <button id="menuRelicsBtn">Relics</button>
        <button id="menuHotkeysBtn">Hotkeys</button>
      </div>
    </div>
  </div>

  <div id="relicListModal" class="modal hidden">
    <div class="modal-content">
      <h3>All Relics</h3>
      <p>Activate relics for testing (marks run as cheated).</p>
      <div class="relics-list scrollable" id="allRelicsList"></div>
      <div class="modal-buttons">
        <button id="closeRelicListBtn">Close</button>
      </div>
    </div>
  </div>

  <div id="hotkeysModal" class="modal hidden">
    <div class="modal-content">
      <h3>Keyboard Hotkeys</h3>
      <p>Click a key to rebind it.</p>
      <div class="hotkeys-list" id="hotkeysList"></div>
      <div class="modal-buttons">
        <button id="resetHotkeysBtn">Reset Defaults</button>
        <button id="closeHotkeysBtn">Close</button>
      </div>
    </div>
  </div>

  <script type="module" src="main.js"></script>
</body>
</html>